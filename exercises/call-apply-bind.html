<html>
    <head>
        <title>
            call-appy-bind
        </title>
    </head>
    <body>
        <a href="/exercises/">Go back</a>
        <p><em> Abre la consola</em></p>
        
        <ul>
            <li><button class="call-to-action">Aprender</button></li>
            <li><button class="call-to-action">Aprender más</button></li>
            <li><button class="call-to-action">¡Nunca parar de aprender!</button></li>
        </ul>
        
        <script>
            //Establecer 'this' usando 'call'.
            function saludar() {
                console.log(`Hola soy ${this.name} ${this.apellido}`);
            }
            const persona = {
                name: "Juanjo",
                apellido: "Mosquera"
            }
            saludar.call(persona);

            //Establecer 'this' usando 'call' y pasar argumentos a la función.
            function caminar(metros, direccion) {
                console.log(`${this.name} camina ${metros} metros hacia ${direccion}`);
            }
            caminar.call(persona, 400, 'norte');
            
            //Establecer 'this' usando 'apply' y pasar argumentos a la función.
            const valores = [802, 'oeste']
            caminar.apply(persona, valores);
            
            /*
                c (call) - commas
                a (apply) - arreglos
            */

            //Establecer 'this' en una nueva función usando 'bind'.
            const andres = {name: "Andrés", apellido: "Mosquera"}
            const andresSaluda = saludar.bind(andres);
            andresSaluda();

            //const andresCamina = caminar.bind(andres);
            //andresCamina(1524, 'Sureste');

            //const andresCamina = caminar.bind(andres, 2000, 'Sur');
            //andresCamina();

            const andresCamina = caminar.bind(andres, 1524);
            andresCamina('Noreste');


            //Cuando es útil usar uno de estos métodos.
            const buttons = document.getElementsByClassName("call-to-action");
            // buttons.forEach(button => {
            //     button.conClick = () => alert("Nunca pares de aprender!")
            // });

            //NodeList
            Array.prototype.forEach.call(buttons, button => {
                 button.onClick = () => alert('Nunca pares de aprender!');
            })
        </script>
    </body>
</html>